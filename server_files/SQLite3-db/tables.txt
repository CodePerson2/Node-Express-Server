CREATE TABLE IF NOT EXISTS login (
    userID INTEGER PRIMARY KEY,
    password VARCHAR(100) NOT NULL,
    userName VARCHAR(30) UNIQUE NOT NULL,
    token VARCHAR(50),
    tokenTime DATETIME,
    create_At DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
  );
  
  CREATE TABLE IF NOT EXISTS chatGroup(
    groupID INTEGER PRIMARY KEY,
    name VARCHAR(30),
    create_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
  );
  
  CREATE TABLE IF NOT EXISTS userChat(
    groupID INTEGER NOT NULL,
    userID INTEGER NOT NULL,
    create_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (userID) REFERENCES login(userID) ON DELETE CASCADE,
    FOREIGN KEY (groupID) REFERENCES chatGroup(groupID) ON DELETE CASCADE
  );
  
  CREATE TABLE IF NOT EXISTS message(
    messageID INTEGER PRIMARY KEY,
    userID INTEGER NOT NULL,
    groupID INTEGER NOT NULL,
    message VARCHAR(256),
    create_at DATETIME DEFAULT(STRFTIME('%Y-%m-%d %H:%M:%f', 'NOW')),
    FOREIGN KEY (userID) REFERENCES login(userID) ON DELETE CASCADE,
    FOREIGN KEY (groupID) REFERENCES chatGroup(groupID) ON DELETE CASCADE
  )